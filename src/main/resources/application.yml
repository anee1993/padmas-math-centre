spring:
  application:
    name: mathematics-tuition-service
  
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 10MB
  
  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://db.bvtawdcbfkwbklhhovre.supabase.co:5432/postgres?sslmode=require}
    username: ${DATABASE_USERNAME:postgres}
    password: ${DATABASE_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
      connection-test-query: SELECT 1
      data-source-properties:
        ssl: true
        sslmode: require
        ApplicationName: padmas-math-centre
  
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: ${SHOW_SQL:false}
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
        jdbc:
          lob:
            non_contextual_creation: true
          time_zone: UTC
        temp:
          use_jdbc_metadata_defaults: false
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

jwt:
  secret: ${JWT_SECRET}
  expiration: ${JWT_EXPIRATION:86400000}

supabase:
  url: ${SUPABASE_URL:https://bvtawdcbfkwbklhhovre.supabase.co}
  key: ${SUPABASE_KEY}

# Email Configuration
mail:
  enabled: ${MAIL_ENABLED:false}
  host: ${MAIL_HOST:smtp.gmail.com}
  port: ${MAIL_PORT:587}
  username: ${MAIL_USERNAME}
  password: ${MAIL_PASSWORD}
  from: ${MAIL_FROM:noreply@padmasmathcentre.com}
  from-name: ${MAIL_FROM_NAME:Padma's Math Centre}
  properties:
    mail:
      smtp:
        auth: true
        starttls:
          enable: true
        connectiontimeout: 5000
        timeout: 5000
        writetimeout: 5000

# Groq AI Configuration
groq:
  api:
    key: ${GROQ_API_KEY}
    url: https://api.groq.com/openai/v1/chat/completions
  model: ${GROQ_MODEL:llama-3.3-70b-versatile}

# Teacher Account Configuration
# Note: Password is only used when creating a NEW teacher account
# Use the forgot password feature to reset an existing teacher's password
teacher:
  email: ${TEACHER_EMAIL}
  password: ${TEACHER_DEFAULT_PASSWORD}
  name: ${TEACHER_NAME}

server:
  port: ${SERVER_PORT:8080}
